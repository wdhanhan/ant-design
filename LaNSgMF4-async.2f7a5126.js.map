{"version":3,"sources":["docs/blog/modal-hook-order.zh-CN.md?type=text"],"sourcesContent":["\n  import '/Users/vagusx/Projects/ant-design/docs/blog/modal-hook-order.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"ÊúÄËøëÊàë‰ª¨ÈÅáÂà∞‰∫Ü‰∏Ä‰∏™ \",\"paraId\":0},{\"value\":\"issue\",\"paraId\":0},{\"value\":\"ÔºåËØ¥ÊòØ \",\"paraId\":0},{\"value\":\"Modal.useModal\",\"paraId\":0},{\"value\":\" ÁöÑ \",\"paraId\":0},{\"value\":\"contextHolder\",\"paraId\":0},{\"value\":\" Âú®ÊîæÁΩÆ‰∏çÂêåÁöÑ‰ΩçÁΩÆÊó∂Ôºå\",\"paraId\":0},{\"value\":\"modal.confirm\",\"paraId\":0},{\"value\":\" ÂºπÂá∫‰ΩçÁΩÆ‰ºö‰∏ç‰∏ÄÊ†∑Ôºö\",\"paraId\":0},{\"value\":\"import React from 'react';\\nimport { Button, Modal } from 'antd';\\n\\nexport default () => {\\n  const [modal, contextHolder] = Modal.useModal();\\n\\n  return (\\n    <div>\\n      <Modal open>\\n        <Button\\n          onClick={() => {\\n            modal.confirm({ title: 'Hello World' });\\n          }}\\n        >\\n          Confirm\\n        </Button>\\n\\n        {/* üö® BUG when put here */}\\n        {contextHolder}\\n      </Modal>\\n\\n      {/* ‚úÖ Work as expect when put here */}\\n      {/* {contextHolder} */}\\n    </div>\\n  );\\n};\\n\",\"paraId\":1},{\"value\":\"Ê≠£Â∏∏ÁâàÊú¨Ôºö\",\"paraId\":2},{\"value\":\"ÊúâÈóÆÈ¢òÁâàÊú¨Ôºö\",\"paraId\":3},{\"value\":\"‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÂΩì \",\"paraId\":4},{\"value\":\"contextHolder\",\"paraId\":4},{\"value\":\" ÊîæÂú® \",\"paraId\":4},{\"value\":\"Modal\",\"paraId\":4},{\"value\":\" ÂÜÖÈÉ®Êó∂Ôºåhooks Ë∞ÉÁî®ÁöÑÂºπÂá∫‰ΩçÁΩÆ‰∏çÊ≠£Á°Æ‰∫Ü„ÄÇ\",\"paraId\":4},{\"value\":\"antd ÁöÑ Modal Â∫ïÂ±ÇË∞ÉÁî®ÁöÑÊòØ \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"rc-dialog\",\"paraId\":5,\"tocIndex\":0},{\"value\":\" ÁªÑ‰ª∂Â∫ìÔºåÂÖ∂Êé•Âèó‰∏Ä‰∏™ \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"mousePosition\",\"paraId\":5,\"tocIndex\":0},{\"value\":\" Â±ûÊÄßÔºåÁî®‰∫éÊéßÂà∂ÂºπÂá∫‰ΩçÁΩÆÔºà\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"Dialog/Content/index.tsx\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"ÔºâÔºö\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"// pseudocode\\nconst elementOffset = offset(dialogElement);\\nconst transformOrigin = `${mousePosition.x - elementOffset.left}px ${\\n  mousePosition.y - elementOffset.top\\n}px`;\\n\",\"paraId\":6,\"tocIndex\":0},{\"value\":\"ÂÖ∂‰∏≠ \",\"paraId\":7,\"tocIndex\":0},{\"value\":\"offset\",\"paraId\":7,\"tocIndex\":0},{\"value\":\" ÊñπÊ≥ïÁî®‰∫éËé∑ÂèñÁ™ó‰ΩìÊú¨Ë∫´ÁöÑÂùêÊ†á‰ΩçÁΩÆ(\",\"paraId\":7,\"tocIndex\":0},{\"value\":\"util.ts\",\"paraId\":7,\"tocIndex\":0},{\"value\":\")Ôºö\",\"paraId\":7,\"tocIndex\":0},{\"value\":\"// pseudocode\\nfunction offset(el: Element) {\\n  const { left, top } = el.getBoundingClientRect();\\n  return { left, top };\\n}\\n\",\"paraId\":8,\"tocIndex\":0},{\"value\":\"ÈÄöËøáÊñ≠ÁÇπË∞ÉËØïÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ \",\"paraId\":9,\"tocIndex\":0},{\"value\":\"mousePosition\",\"paraId\":9,\"tocIndex\":0},{\"value\":\" ÁöÑÂÄºÊòØÊ≠£Á°ÆÁöÑÔºå‰ΩÜÊòØ \",\"paraId\":9,\"tocIndex\":0},{\"value\":\"offset\",\"paraId\":9,\"tocIndex\":0},{\"value\":\" ‰∏≠Ëé∑ÂèñÁöÑ \",\"paraId\":9,\"tocIndex\":0},{\"value\":\"rect\",\"paraId\":9,\"tocIndex\":0},{\"value\":\" ÁöÑÂÄºÊòØÈîôËØØÁöÑÔºö\",\"paraId\":9,\"tocIndex\":0},{\"value\":\"{\\n  \\\"left\\\": 0,\\n  \\\"top\\\": 0,\\n  \\\"width\\\": 0,\\n  \\\"height\\\": 0\\n}\\n\",\"paraId\":10,\"tocIndex\":0},{\"value\":\"Ëøô‰∏™ÂÄºÂæàÊòéÊòæ‰ª£Ë°®Á™ó‰ΩìÁªÑ‰ª∂Âú®Âä®ÁîªÂêØÂä®ËäÇÁÇπÂ∞öÊú™Ê∑ªÂä†Âà∞ DOM Ê†ë‰∏≠ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊü•Áúã‰∏Ä‰∏ã Dialog Ê∑ªÂä†ÁöÑÈÄªËæë„ÄÇ\",\"paraId\":11,\"tocIndex\":0},{\"value\":\"rc-dialog\",\"paraId\":12,\"tocIndex\":1},{\"value\":\" ÈÄöËøá \",\"paraId\":12,\"tocIndex\":1},{\"value\":\"rc-portal\",\"paraId\":12,\"tocIndex\":1},{\"value\":\" Âú® document ‰∏≠ÂàõÂª∫‰∏Ä‰∏™ËäÇÁÇπÔºåÁÑ∂ÂêéÈÄöËøá \",\"paraId\":12,\"tocIndex\":1},{\"value\":\"ReactDOM.createPortal\",\"paraId\":12,\"tocIndex\":1},{\"value\":\" Â∞ÜÁªÑ‰ª∂Ê∏≤ÊüìÂà∞Ëøô‰∏™ËäÇÁÇπ‰∏ä„ÄÇÂØπ‰∫é \",\"paraId\":12,\"tocIndex\":1},{\"value\":\"contextHolder\",\"paraId\":12,\"tocIndex\":1},{\"value\":\" ‰ΩçÁΩÆ‰∏çÂêåËÄåÂá∫Áé∞Ë°®Áé∞‰∏çÂêåÂèØ‰ª•Êé®ÊµãÔºå‰∏ÄÂÆöÊòØÂú® document ÂàõÂª∫ËäÇÁÇπÁöÑÊó∂Â∫èÂá∫Áé∞‰∫ÜÈóÆÈ¢òÔºå‰∫éÊòØÊàë‰ª¨ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Áúã‰∏Ä‰∏ã \",\"paraId\":12,\"tocIndex\":1},{\"value\":\"rc-portal\",\"paraId\":12,\"tocIndex\":1},{\"value\":\" ‰∏≠ÈªòËÆ§Ê∑ªÂä†ËäÇÁÇπÁöÑÈÉ®ÂàÜ(\",\"paraId\":12,\"tocIndex\":1},{\"value\":\"useDom.tsx\",\"paraId\":12,\"tocIndex\":1},{\"value\":\")Ôºö\",\"paraId\":12,\"tocIndex\":1},{\"value\":\"// pseudocode\\nfunction append() {\\n  // This is not real world code, just for explain\\n  document.body.appendChild(document.createElement('div'));\\n}\\n\\nuseLayoutEffect(() => {\\n  if (queueCreate) {\\n    queueCreate(append);\\n  } else {\\n    append();\\n  }\\n}, []);\\n\",\"paraId\":13,\"tocIndex\":1},{\"value\":\"ÂÖ∂‰∏≠ \",\"paraId\":14,\"tocIndex\":1},{\"value\":\"queueCreate\",\"paraId\":14,\"tocIndex\":1},{\"value\":\" ÊòØÈÄöËøá \",\"paraId\":14,\"tocIndex\":1},{\"value\":\"context\",\"paraId\":14,\"tocIndex\":1},{\"value\":\" Ëé∑ÂèñÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Âú®ÂµåÂ•óÂ±ÇÁ∫ß‰∏ãÔºåÂ≠êÂÖÉÁ¥†ÂàõÂª∫ÂÖà‰∫éÁà∂ÂÖÉÁ¥†ÁöÑÊÉÖÂÜµÔºö\",\"paraId\":14,\"tocIndex\":1},{\"value\":\"<Modal title=\\\"Hello 1\\\" open>\\n  <Modal title=\\\"Hello 2\\\" open>\\n  <Modal>\\n<Modal>\\n\",\"paraId\":15,\"tocIndex\":1},{\"value\":\"<!-- Child `useLayoutEffect` is run before parent. Which makes inject DOM before parent -->\\n<div data-title=\\\"Hello 2\\\"></div>\\n<div data-title=\\\"Hello 1\\\"></div>\\n\",\"paraId\":16,\"tocIndex\":1},{\"value\":\"ÈÄöËøá \",\"paraId\":17,\"tocIndex\":1},{\"value\":\"queueCreate\",\"paraId\":17,\"tocIndex\":1},{\"value\":\" Â∞ÜÂ≠êÂÖÉÁ¥†ÁöÑ \",\"paraId\":17,\"tocIndex\":1},{\"value\":\"append\",\"paraId\":17,\"tocIndex\":1},{\"value\":\" Âä†ÂÖ•ÈòüÂàóÔºåÁÑ∂ÂêéÂÜçÈÄöËøá \",\"paraId\":17,\"tocIndex\":1},{\"value\":\"useLayoutEffect\",\"paraId\":17,\"tocIndex\":1},{\"value\":\" ÊâßË°åÔºö\",\"paraId\":17,\"tocIndex\":1},{\"value\":\"// pseudocode\\nconst [queue, setQueue] = useState<VoidFunction[]>([]);\\n\\nfunction queueCreate(appendFn: VoidFunction) {\\n  setQueue((origin) => {\\n    const newQueue = [appendFn, ...origin];\\n    return newQueue;\\n  });\\n}\\n\\nuseLayoutEffect(() => {\\n  if (queue.length) {\\n    queue.forEach((appendFn) => appendFn());\\n    setQueue([]);\\n  }\\n}, [queue]);\\n\",\"paraId\":18,\"tocIndex\":1},{\"value\":\"Áî±‰∫é‰∏äËø∞ÁöÑÈòüÂàóÊìç‰ΩúÔºå‰ΩøÂæó portal ÁöÑ DOM Âú®ÂµåÂ•ó‰∏ã‰ºöÂú®‰∏ã‰∏Ä‰∏™ \",\"paraId\":19,\"tocIndex\":2},{\"value\":\"useLayoutEffect\",\"paraId\":19,\"tocIndex\":2},{\"value\":\" Ëß¶Âèë„ÄÇËøôÂØºËá¥Ê∑ªÂä†ËäÇÁÇπË°å‰∏∫Âêé‰∫é \",\"paraId\":19,\"tocIndex\":2},{\"value\":\"rc-dialog\",\"paraId\":19,\"tocIndex\":2},{\"value\":\" ÂêØÂä®Âä®ÁîªÁöÑ \",\"paraId\":19,\"tocIndex\":2},{\"value\":\"useLayoutEffect\",\"paraId\":19,\"tocIndex\":2},{\"value\":\" Êó∂Êú∫ÔºåÂØºËá¥ÂÖÉÁ¥†‰∏çÂú® document ‰∏≠ËÄåÊó†Ê≥ïËé∑ÂèñÊ≠£Á°ÆÁöÑÂùêÊ†á‰ø°ÊÅØ„ÄÇ\",\"paraId\":19,\"tocIndex\":2},{\"value\":\"Áî±‰∫é Modal Â∑≤ÁªèÊòØÂºÄÂêØÁä∂ÊÄÅÔºåÂÖ∂ÂÆû‰∏çÈúÄË¶ÅÈÄöËøá \",\"paraId\":20,\"tocIndex\":2},{\"value\":\"queue\",\"paraId\":20,\"tocIndex\":2},{\"value\":\" ÂºÇÊ≠•ÊâßË°åÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ÈúÄË¶ÅÂä†‰∏Ä‰∏™Âà§Êñ≠Â¶ÇÊûúÊòØÂºÄÂêØÁä∂ÊÄÅÔºåÁõ¥Êé•ÊâßË°å \",\"paraId\":20,\"tocIndex\":2},{\"value\":\"append\",\"paraId\":20,\"tocIndex\":2},{\"value\":\" Âç≥ÂèØÔºö\",\"paraId\":20,\"tocIndex\":2},{\"value\":\"// pseudocode\\nconst appendedRef = useRef(false);\\n\\nconst queueCreate = !appendedRef.current\\n  ? (appendFn: VoidFunction) => {\\n      // same code\\n    }\\n  : undefined;\\n\\nfunction append() {\\n  // This is not real world code, just for explain\\n  document.body.appendChild(document.createElement('div'));\\n  appendedRef.current = true;\\n}\\n\\n// ...\\n\\nreturn <PortalContext value={queueCreate}>{children}</PortalContext>;\\n\",\"paraId\":21,\"tocIndex\":2},{\"value\":\"‰ª•‰∏ä„ÄÇ\",\"paraId\":22,\"tocIndex\":2}];\n  "],"names":[],"mappings":"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"}