{"version":3,"sources":["components/config-provider/demo/wave.tsx?techStack=react"],"sourcesContent":["import '/Users/vagusx/Projects/ant-design/components/config-provider/demo/wave.tsx?watch=parent';import React from 'react';\nimport { HappyProvider } from '@ant-design/happy-work-theme';\nimport { Button, ConfigProvider, Space } from 'antd';\nimport type { ConfigProviderProps, GetProp } from 'antd';\n\ntype WaveConfig = GetProp<ConfigProviderProps, 'wave'>;\n\n// Prepare effect holder\nconst createHolder = (node: HTMLElement) => {\n  const { borderWidth } = getComputedStyle(node);\n  const borderWidthNum = parseInt(borderWidth, 10);\n\n  const div = document.createElement('div');\n  div.style.position = 'absolute';\n  div.style.inset = `-${borderWidthNum}px`;\n  div.style.borderRadius = 'inherit';\n  div.style.background = 'transparent';\n  div.style.zIndex = '999';\n  div.style.pointerEvents = 'none';\n  div.style.overflow = 'hidden';\n  node.appendChild(div);\n\n  return div;\n};\n\nconst createDot = (holder: HTMLElement, color: string, left: number, top: number, size = 0) => {\n  const dot = document.createElement('div');\n  dot.style.position = 'absolute';\n  dot.style.left = `${left}px`;\n  dot.style.top = `${top}px`;\n  dot.style.width = `${size}px`;\n  dot.style.height = `${size}px`;\n  dot.style.borderRadius = '50%';\n  dot.style.background = color;\n  dot.style.transform = 'translate(-50%, -50%)';\n  dot.style.transition = 'all 1s ease-out';\n  holder.appendChild(dot);\n\n  return dot;\n};\n\n// Inset Effect\nconst showInsetEffect: WaveConfig['showEffect'] = (node, { event, component }) => {\n  if (component !== 'Button') {\n    return;\n  }\n\n  const holder = createHolder(node);\n\n  const rect = holder.getBoundingClientRect();\n\n  const left = event.clientX - rect.left;\n  const top = event.clientY - rect.top;\n\n  const dot = createDot(holder, 'rgba(255, 255, 255, 0.65)', left, top);\n\n  // Motion\n  requestAnimationFrame(() => {\n    dot.ontransitionend = () => {\n      holder.remove();\n    };\n\n    dot.style.width = '200px';\n    dot.style.height = '200px';\n    dot.style.opacity = '0';\n  });\n};\n\n// Shake Effect\nconst showShakeEffect: WaveConfig['showEffect'] = (node, { component }) => {\n  if (component !== 'Button') {\n    return;\n  }\n\n  const seq = [0, -15, 15, -5, 5, 0];\n  const itv = 10;\n\n  let steps = 0;\n\n  function loop() {\n    cancelAnimationFrame((node as any).effectTimeout);\n\n    (node as any).effectTimeout = requestAnimationFrame(() => {\n      const currentStep = Math.floor(steps / itv);\n      const current = seq[currentStep];\n      const next = seq[currentStep + 1];\n\n      if (!next) {\n        node.style.transform = '';\n        node.style.transition = '';\n        return;\n      }\n\n      // Trans from current to next by itv\n      const angle = current + ((next - current) / itv) * (steps % itv);\n\n      node.style.transform = `rotate(${angle}deg)`;\n      node.style.transition = 'none';\n\n      steps += 1;\n      loop();\n    });\n  }\n\n  loop();\n};\n\n// Component\nconst Wrapper = ({ name, ...wave }: WaveConfig & { name: string }) => (\n  <ConfigProvider wave={wave}>\n    <Button type=\"primary\">{name}</Button>\n  </ConfigProvider>\n);\n\nconst App = () => (\n  <Space style={{ padding: 24 }} size=\"large\">\n    <Wrapper name=\"Disabled\" disabled />\n    <Wrapper name=\"Default\" />\n    <Wrapper name=\"Inset\" showEffect={showInsetEffect} />\n    <Wrapper name=\"Shake\" showEffect={showShakeEffect} />\n    <HappyProvider>\n      <Button type=\"primary\">Happy Work</Button>\n    </HappyProvider>\n  </Space>\n);\n\nexport default App;\n"],"names":[],"mappings":"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"}