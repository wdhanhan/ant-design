{"version":3,"sources":["components/mentions/demo/async.tsx?techStack=react"],"sourcesContent":["import '/Users/vagusx/Projects/ant-design/components/mentions/demo/async.tsx?watch=parent';import React, { useCallback, useRef, useState } from 'react';\nimport { Mentions } from 'antd';\nimport debounce from 'lodash/debounce';\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState<{ login: string; avatar_url: string }[]>([]);\n  const ref = useRef<string>();\n\n  const loadGithubUsers = (key: string) => {\n    if (!key) {\n      setUsers([]);\n      return;\n    }\n\n    fetch(`https://api.github.com/search/users?q=${key}`)\n      .then((res) => res.json())\n      .then(({ items = [] }) => {\n        if (ref.current !== key) return;\n\n        setLoading(false);\n        setUsers(items.slice(0, 10));\n      });\n  };\n\n  const debounceLoadGithubUsers = useCallback(debounce(loadGithubUsers, 800), []);\n\n  const onSearch = (search: string) => {\n    console.log('Search:', search);\n    ref.current = search;\n    setLoading(!!search);\n    setUsers([]);\n\n    debounceLoadGithubUsers(search);\n  };\n\n  return (\n    <Mentions\n      style={{ width: '100%' }}\n      loading={loading}\n      onSearch={onSearch}\n      options={users.map(({ login, avatar_url: avatar }) => ({\n        key: login,\n        value: login,\n        className: 'antd-demo-dynamic-option',\n        label: (\n          <>\n            <img src={avatar} alt={login} />\n            <span>{login}</span>\n          </>\n        ),\n      }))}\n    />\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"uOAwDA,+CAAA,4CAxDO,oBAAyI,gBACvH,oBACJ,aAsDrB,EApDsB,KACpB,GAAM,CAAC,EAAS,EAAW,CAAG,GAAA,UAAQ,EAAC,CAAA,GACjC,CAAC,EAAO,EAAS,CAAG,GAAA,UAAQ,EAA0C,EAAE,EACxE,EAAM,GAAA,QAAM,IAkBZ,EAA0B,GAAA,aAAW,EAAC,GAAA,SAAQ,EAhB5B,AAAC,IACvB,GAAI,CAAC,EAAK,CACR,EAAS,EAAE,EACX,OACF,CAEA,MAAM,CAAC,sCAAsC,EAAE,EAAI,CAAC,EACjD,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IACtB,IAAI,CAAC,CAAC,CAAE,MAAA,EAAQ,EAAE,CAAE,IACf,EAAI,OAAO,GAAK,IAEpB,EAAW,CAAA,GACX,EAAS,EAAM,KAAK,CAAC,EAAG,MAC1B,GACJ,EAEsE,KAAM,EAAE,EAW9E,MACE,UAAC,UAAQ,EACP,MAAO,CAAE,MAAO,MAAO,EACvB,QAAS,EACT,SAba,AAAC,IAChB,QAAQ,GAAG,CAAC,UAAW,GACvB,EAAI,OAAO,CAAG,EACd,EAAW,CAAC,CAAC,GACb,EAAS,EAAE,EAEX,EAAwB,GAC1B,EAOI,QAAS,EAAM,GAAG,CAAC,CAAC,CAAE,MAAA,CAAK,CAAE,WAAY,CAAM,CAAE,GAAM,CAAA,CACrD,IAAK,EACL,MAAO,EACP,UAAW,2BACX,MACE,iCACE,UAAC,OAAI,IAAK,EAAQ,IAAK,IACvB,UAAC,iBAAM,MAGb,CAAA,KAGN"}